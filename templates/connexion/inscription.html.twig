{% extends 'base.html.twig' %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{asset("styles/login.css")}}">
{% endblock %}

{% block title %}Inscription - Yabonlapub{% endblock %}

{% block body %}
<div class="content">
    {{ form_start(form) }}
        <h3>Créer un compte - {{ typeCompte }}</h3>
        <table>
            <tr>
                <td class="titre">
                <label><strong>Identifiant</strong></label>
                </td>
                <td class="value">
                {{ form_widget(form.login, {'attr': {'required': true, 'placeholder': 'Identifiant*', 'class': 'form-control'}}) }}
                {{ form_errors(form.login) }}
                </td>
            </tr>

            <tr>
                <td class="titre">
                <label><strong>Adresse email</strong></label>
                </td>
                <td class="value">
                {{ form_widget(form.email, {'attr': {'required': true, 'placeholder': 'Email*', 'class': 'form-control'}}) }}
                {{ form_errors(form.email) }}
                </td>
            </tr>

            <tr>
                <td class="titre">
                <label><strong>Mot de passe</strong></label>
                </td>
                <td class="value">
                {{ form_widget(form.plainPassword, {'attr': {'required': true, 'placeholder': 'Mot de passe*', 'class': 'form-control'}}) }}        
                {{ form_errors(form.plainPassword) }}
                </td>
                <td>
                <img class="oeil1" src={{asset('/img/oeil_barre.png')}} width="20px" onclick="togglePasswordVisibility1()">
                <script>
                    function togglePasswordVisibility1() {
                        var passwordInput = document.getElementById('inscription_plainPassword');
                        var togglePasswordButton = document.querySelector('.oeil1');
                        if (passwordInput.type === 'password') {
                            passwordInput.type = 'text';
                            togglePasswordButton.src = '{{asset('/img/oeil.png')}}';
                        } else {
                            passwordInput.type = 'password';
                            togglePasswordButton.src = '{{asset('/img/oeil_barre.png')}}';
                        }
                    }
                </script>
                </td>
            </tr>

            <tr>
                <td class="titre">
                <label><strong>Confirmation du mot de passe</strong></label>
                </td>
                <td class="value">
                {{ form_widget(form.confirmPassword, {'attr': {'required': true, 'placeholder': 'Confirmation du mot de passe*', 'class': 'form-control'}}) }}        
                {{ form_errors(form.confirmPassword) }}
                </td>
                <td>
                <img class="oeil2" src={{asset('/img/oeil_barre.png')}} width="20px" onclick="togglePasswordVisibility2()">
                <script>
                    function togglePasswordVisibility2() {
                        var passwordInput = document.getElementById('inscription_confirmPassword');
                        var togglePasswordButton = document.querySelector('.oeil2');
                        if (passwordInput.type === 'password') {
                            passwordInput.type = 'text';
                            togglePasswordButton.src = '{{asset('/img/oeil.png')}}';
                        } else {
                            passwordInput.type = 'password';
                            togglePasswordButton.src = '{{asset('/img/oeil_barre.png')}}';
                        }
                    }
                </script>
                </td>
            </tr>
        </table>
        <button class="register" type="submit" id="inscription-btn">S'inscrire</button>
        <button class="login" onclick="window.location.href='{{ path("connexion") }}'">Vous possédez déjà un compte ? Connectez-vous</button>
    {{ form_end(form) }}
</div>
{% endblock %}